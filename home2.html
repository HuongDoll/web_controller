<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css"> 
	<script src="https://kit.fontawesome.com/a076d05399.js"></script>
	<link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
	<script  type ="text/javascript"  src ="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js" > </script >
	<script  type ="text/javascript" src ="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js" > </script >
	<script  type ="text/javascript"  src ="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js" > </script >
	<link  rel ="stylesheet"  type ="text/css"  href ="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" / >
	<title>Document</title>

</head>
<body style="background: url('https://images.newindianexpress.com/uploads/user/imagelibrary/2020/4/8/w900X450/millions.jpg'); ">

	<div class="form2" >
		<div class=" flex flex-wrap">
			<div class="w-full lg:w-1/2 px-2 py-2">
				<input type="checkbox" name="khu_hoi" id="kh" onclick="change_kh()">
				<label for="kh" class="px-2">Khứ hồi </label>
			</div>
			<div class="w-full lg:w-1/2 px-2 py-2">
				<input type="checkbox" name="month" id="month">
				<label for="month" class="px-2">Tìm theo tháng</label>
			</div>
		</div>
		<div class="flex flex-wrap">
				<div class="inputwithicon w-full lg:w-1/2">
					<!-- <input class="box_form2 font-mono" type="text" name="" > -->
					<input list="pos_start" class="box_form2 " type="text">

					<datalist id="pos_start" >
					  <option value="hcm">Ho Chi Minh</option>
					  <option value="hcm">Ho Chi Minh</option>
					  <option value="hcm">Ho Chi Minh</option>
					  <option value="hcm">Ho Chi Minh</option>
					</datalist>
					<i class="fas fa-plane-departure" ></i>
				</div>
				<div class="inputwithicon w-full lg:w-1/2 ">
					<!-- <input class="box_form2 font-mono" type="text" name="" > -->
					<input list="pos_start" class="box_form2 " type="text">

					<datalist id="pos_start">
					  <option value="hcm">Ho Chi Minh</option>
					  <option value="hcm">Ho Chi Minh</option>
					  <option value="hcm">Ho Chi Minh</option>
					  <option value="hcm">Ho Chi Minh</option>
					</datalist>
					<i class="fas fa-plane-arrival" ></i>
				</div>
				<div class="inputwithicon sm:w-full lg:w-1/2">
					<!-- <input class="box_form2 font-mono" type="text" name="" > -->
					<input class="box_form2  " id="date_go" type="text" name="daterangego" style="display: none;" >
					<input class="box_form2  " id="date_back" type="text" name="daterangeback" >

					<i class="far fa-calendar"></i>
				</div>
				<div class="dropdown sm:w-full lg:w-1/2" >

			        <button class="box_form focus:outline-none" id="btn-select-num-people" onclick="showOption()" >
			        	<table width="100%">
			        		<tr>
			        			<td width="50px">
			        				<i class="far fa-user i" ></i>
			        			</td>
			        			<td>
			        				 <div class="num-people-total" >
						                <div class="total-people">1</div>
						                <div class="px-2">khách</div>
						            </div>
						            <div class="row">
						                <i class="num-people-regis text-gray-900" style="display: none;">1 NL,0 TE,0 EB</i>
						            </div>
			        			</td>
			        		</tr>
			        	</table>
						           

			        </button>

			        <div id="dropdown-id" class="dropdown-content">
			            <table width="100%" id="num_people_regis">
			            	
			            		<tr>
				                    <td >
				                        <p class="num-aldult">1</p>
				                    </td>
				                    <td width="60%">
				                        <div >Người lớn </div>
				                        <i class="text-detail-people">(Từ 12 tuổi)</i>
				                    </td>
				                    <td width="10%" colspan="4">
				                        <button class="button rounded-full focus:outline-none" onclick="decreaseCount('num-aldult')">-</button>
				                    </td>
				                    <td width="10%">
				                        <button class="button rounded-full focus:outline-none" onclick="increaseCount('num-aldult')">+</button>
				                    </td>
				                </tr>
				        </table>
				                <hr>
				        <table width="100%" id="num_people_regis">
				                <tr>
				                    <td>
				                        <p class="num-kids">0</p>
				                    </td>
				                    <td width="60%">
				                        <div>Trẻ em  </div>
				                        <i class="text-detail-people">(Từ 2-12 tuổi)</i>
				                    </td>
				                    <td width="10%" colspan="4">
				                        <button class="button rounded-full focus:outline-none" onclick="decreaseCount('num-kids')">-</button>
				                    </td>
				                    <td width="10%">
				                        <button class="button rounded-full focus:outline-none" onclick="increaseCount('num-kids')">+</button>
				                    </td>
				                </tr>
				        </table>
				                <hr>
				        <table width="100%" id="num_people_regis">
				                <tr>
				                    <td>
				                        <p class="num-baby">0</p>
				                    </td>
				                    <td width="60%">
				                        <div >Em bé </div>
				                        <i class="text-detail-people ">(<2 tuổi)</i>
				                    </td>
				                    <td width="10%" colspan="4">
				                        <button class="button rounded-full focus:outline-none" onclick="decreaseCount('num-baby')">-</button>
				                    </td>
				                    <td width="10%">
				                        <button class="button rounded-full focus:outline-none" onclick="increaseCount('num-baby')">+</button>
				                    </td>
				                </tr>
			            	
				                
			            </table>
	    			</div>
	    		</div>
	    		<button type="submit" class="pd w-full font-semibold focus:outline-none mini "><i class="fas fa-search px-2"></i>TÌM KIẾM  </button>
		</div>
	</div>
	
	<script>
		//console.log(document.getElementsByClassName('num-aldult')[0].innerText);

	    function showOption() {
	    	document.getElementById('dropdown-id').classList.toggle('is-dropdown');
	    }

	    function increaseCount(classname) {
	        var currentNumOfPeople = document.getElementsByClassName(classname);
	        for (var i = 0; i < currentNumOfPeople.length; i++) {
	            currentNumOfPeople[i].innerText++;
	        }
	        computeTotalPeople('total-people', 'in');
	        changePeopleRegis();
	        //document.getElementsByClassName(classname).innerHTML = currentNumOfPeople;
	    }

	    function decreaseCount(classname) {
	        var currentNumOfPeople = document.getElementsByClassName(classname);
	        var isDecrease = false;
	        for (var i = 0; i < currentNumOfPeople.length; i++) {
	            if (classname === 'num-aldult' && currentNumOfPeople[i].innerText <= 1) break;
	            if (currentNumOfPeople[i].innerText > 0) {
	                currentNumOfPeople[i].innerText--;
	                isDecrease = true;
	            }
	        }
	        if (isDecrease) computeTotalPeople('total-people', 'de');
	        changePeopleRegis();
	    }

	    function computeTotalPeople(classname, operator) {
	        var total = document.getElementsByClassName(classname);
	        if (operator === 'in') total[0].innerText++;
	        else if (operator === 'de') total[0].innerText--;
	    }

	    function changePeopleRegis(){
	    	var numaldult = document.getElementsByClassName('num-aldult')[0].innerHTML;
	    	var numkids = document.getElementsByClassName('num-kids')[0].innerText;
	    	var numbaby = document.getElementsByClassName('num-baby')[0].innerText;
	    	var value = numaldult + " NL," + numkids + " TE," + numbaby + " EB";
	    	document.getElementsByClassName('num-people-regis')[0].innerHTML = value;
	    }
	    function change_kh(){
	    	if(document.getElementById('date_back').style.display=='none'){
	    		document.getElementById('date_back').style.display='block';
	    		document.getElementById('date_go').style.display='none';
	    	}
	    	else {
	    		document.getElementById('date_back').style.display='none';
	    		document.getElementById('date_go').style.display='block';
	    	}
	    }
	   
	    $(function() {
		  $('input[name="daterangego"]').daterangepicker({
		    autoApply: true,
		    autoUpdateInput: true,
		    locale: {
				format: 'DD/MM/YYYY'
			},
		  }, function(start, end, label) {
		    console.log("A new date selection was made: " + start.format('YYYY/MM/DD') + ' to ' + end.format('YYYY/MM/DD'));
		  });
		});
		$(function() {
		  $('input[name="daterangeback"]').daterangepicker({
		    autoApply: true,
		    autoUpdateInput: true,
		    singleDatePicker: true,
		    locale: {
				format: 'DD/MM/YYYY'
			},
		    minYear: 1901,
		    maxYear: parseInt(moment().format('YYYY'),10)
		  }, function(start, end, label) {
		    var years = moment().diff(start, 'years');
		  });
		});
	</script>

</body>
</html>
